__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return i(e[a][1][t]||t)},p,p.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AliasReset:[function(t,e,o){"use strict";cc._RF.push(e,"fc126A05kZLFrbh59uvmrO0","AliasReset"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.getComponent(cc.Sprite).spriteFrame.getTexture().setAliasTexParameters()},e.prototype.start=function(){},e=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],Authenticator:[function(t,e,o){"use strict";cc._RF.push(e,"19ffeYRsNtCOb+xJRtLsdrW","Authenticator"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){},e=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"8c4101PPuNFgJuGa/+n1oao","GameManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){o._instance=this},e.prototype.start=function(){},Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),e.enemyKilled=function(t){o._instance._enemyKilled(t)},e.prototype._enemyKilled=function(t){this.node.emit("kill",t)},e=o=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],InputManager:[function(t,e,o){"use strict";cc._RF.push(e,"152cc5PwJhOnKcaTPBrPgCJ","InputManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc.Vec2,i=cc.Canvas,r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.areaSize=new n(100,100),e.centerRadiusRatio=.2,e._deltaPosition=n.ZERO,e.currentTouchId=-2,e}return __extends(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.mouseIn.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.mouseMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.mouseOut.bind(this))},e.prototype.start=function(){this.canvasComponent=this.getComponent(i)},e.prototype.mouseIn=function(t){this.isActive||(this.currentTouchId=t.getID())},e.prototype.mouseMove=function(t){if(this.currentTouchId==t.getID()){var e=t.getStartLocation();if(this._deltaPosition.x=(t.getLocationX()-e.x)/this.areaSize.x,this._deltaPosition.y=(t.getLocationY()-e.y)/this.areaSize.y,this._deltaPosition.mag()>1&&this._deltaPosition.normalizeSelf(),this.centerRadiusRatio>0){var o=void 0,n=this._deltaPosition.mag();o=n<this.centerRadiusRatio?0:(n-this.centerRadiusRatio)/(1-this.centerRadiusRatio),this._deltaPosition.mulSelf(o)}}},e.prototype.mouseOut=function(t){this.currentTouchId==t.getID()&&(this._deltaPosition=n.ZERO,this.currentTouchId=-2)},Object.defineProperty(e.prototype,"deltaPosition",{get:function(){return this._deltaPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return-2!=this.currentTouchId},enumerable:!0,configurable:!0}),e=__decorate([a],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],PlayerBullet:[function(t,e,o){"use strict";cc._RF.push(e,"e0fc6nZzWtA0KvGUusjelLj","PlayerBullet"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc.RigidBody,i=cc.Vec2,r=cc._decorator,a=r.ccclass,c=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=900,e}return __extends(e,t),e.prototype.shoot=function(t){this.direction=new i(t.x-this.node.x,t.y-this.node.y).normalizeSelf()},e.prototype.start=function(){this.body=this.getComponent(n),this.body.linearVelocity=this.direction.mul(this.speed)},e.prototype.onCollisionEnter=function(t,e){7==t.tag&&7==e.tag&&this.node.destroy()},__decorate([c],e.prototype,"speed",void 0),e=__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],PlayerControl:[function(t,e,o){"use strict";cc._RF.push(e,"c6ec4Wt9FFJaJsM+KHZFYT0","PlayerControl"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Scripts/InputManager"),i=t("./PlayerBullet"),r=cc.RigidBody,a=cc.Vec2,c=cc.instantiate,s=cc.Prefab,u=cc.log,p=cc._decorator,d=p.ccclass,h=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inputManager=null,e.speed=250,e.bulletPrefab=null,e.shotsPerSecond=2,e}return __extends(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,cc.director.setDisplayStats(!1)},e.prototype.start=function(){this.body=this.getComponent(r),this.targets=[]},e.prototype.update=function(t){this.body.linearVelocity=this.inputManager.deltaPosition.mul(this.speed),null!=this.mainTarget?this.node.rotation=180*Math.atan2(this.mainTarget.y-this.node.y,-(this.mainTarget.x-this.node.x))/Math.PI:this.inputManager.deltaPosition.equals(a.ZERO)||(this.node.rotation=180*Math.atan2(this.inputManager.deltaPosition.y,-this.inputManager.deltaPosition.x)/Math.PI)},e.prototype.shoot=function(){var t=c(this.bulletPrefab).getComponent(i.default);t.node.parent=this.node.parent,t.node.x=this.node.x,t.node.y=this.node.y,t.shoot(this.mainTarget)},e.prototype.updateTarget=function(){u("target upgrade");var t=this.mainTarget;this.mainTarget=this.targets[0],null==this.mainTarget?this.unschedule(this.shoot):this.mainTarget!=t&&(this.unschedule(this.shoot),this.shoot(),this.schedule(this.shoot,1/this.shotsPerSecond,cc.macro.REPEAT_FOREVER))},e.prototype.addTarget=function(t){this.targets.push(t),this.updateTarget()},e.prototype.removeTarget=function(t){var e=this.targets.indexOf(t,0);e>-1&&this.targets.splice(e,1),this.updateTarget()},e.prototype.onCollisionEnter=function(t,e){3==t.tag&&3==e.tag&&this.addTarget(t.node)},e.prototype.onCollisionExit=function(t,e){3==t.tag&&3==e.tag&&this.removeTarget(t.node)},__decorate([h(n.default)],e.prototype,"inputManager",void 0),__decorate([h],e.prototype,"speed",void 0),__decorate([h(s)],e.prototype,"bulletPrefab",void 0),__decorate([h],e.prototype,"shotsPerSecond",void 0),e=__decorate([d],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../Scripts/InputManager":"InputManager","./PlayerBullet":"PlayerBullet"}],Stretch:[function(t,e,o){"use strict";cc._RF.push(e,"2bd124miGhOBZGXqu7FCLGA","Stretch"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=!1,e.height=!1,e}return __extends(e,t),e.prototype.start=function(){cc.view.setResizeCallback(this.resizeContent.bind(this)),this.resizeContent()},e.prototype.resizeContent=function(){this.width&&(this.node.width=cc.director.getVisibleSize().width-this.node.x),this.height&&(this.node.height=cc.director.getVisibleSize().height-this.node.y)},__decorate([r],e.prototype,"width",void 0),__decorate([r],e.prototype,"height",void 0),e=__decorate([i],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],TurretControl:[function(t,e,o){"use strict";cc._RF.push(e,"a328foaFhNPybC/F+yTE17X","TurretControl"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameManager"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.weaponNode=null,e.health=5,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){null!=this.target&&(this.weaponNode.rotation=180*Math.atan2(this.target.y-this.node.y,-(this.target.x-this.node.x))/Math.PI)},e.prototype.onCollisionEnter=function(t,e){4==t.tag&&4==e.tag?this.target=t.node:7==t.tag&&7==e.tag&&(this.health--,this.health<=0&&(n.default.enemyKilled(this.node),this.node.destroy()))},e.prototype.onCollisionExit=function(t,e){4==t.tag&&4==e.tag&&(this.target=null)},__decorate([a(cc.Node)],e.prototype,"weaponNode",void 0),e=__decorate([r],e)}(cc.Component);o.default=c,cc._RF.pop()},{"./GameManager":"GameManager"}]},{},["AliasReset","Authenticator","GameManager","InputManager","PlayerBullet","PlayerControl","Stretch","TurretControl"]);