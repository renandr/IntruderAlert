require=function r(a,c,s){function u(e,t){if(!c[e]){if(!a[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(p)return p(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=c[e]={exports:{}};a[e][0].call(i.exports,function(t){return u(a[e][1][t]||t)},i,i.exports,r,a,c,s)}return c[e].exports}for(var p="function"==typeof require&&require,t=0;t<s.length;t++)u(s[t]);return u}({AliasReset:[function(t,e,o){"use strict";cc._RF.push(e,"fc126A05kZLFrbh59uvmrO0","AliasReset"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.getComponent(cc.Sprite).spriteFrame.getTexture().setAliasTexParameters()},e.prototype.start=function(){},e=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"8c4101PPuNFgJuGa/+n1oao","GameManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return __extends(e,t),(o=e).prototype.onLoad=function(){o._instance=this},e.prototype.start=function(){},Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),e.enemyKilled=function(t){o._instance._enemyKilled(t)},e.prototype._enemyKilled=function(t){this.node.emit("kill",t)},e=o=__decorate([i],e)}(cc.Component));o.default=r,cc._RF.pop()},{}],InputManager:[function(t,e,o){"use strict";cc._RF.push(e,"152cc5PwJhOnKcaTPBrPgCJ","InputManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc.Vec2,i=cc.Canvas,r=cc._decorator,a=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.areaSize=new n(100,100),t.centerRadiusRatio=.2,t._deltaPosition=n.ZERO,t.currentTouchId=-2,t}return __extends(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.mouseIn.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.mouseMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.mouseOut.bind(this))},t.prototype.start=function(){this.canvasComponent=this.getComponent(i)},t.prototype.mouseIn=function(t){this.isActive||(this.currentTouchId=t.getID())},t.prototype.mouseMove=function(t){if(this.currentTouchId==t.getID()){var e=t.getStartLocation();if(this._deltaPosition.x=(t.getLocationX()-e.x)/this.areaSize.x,this._deltaPosition.y=(t.getLocationY()-e.y)/this.areaSize.y,1<this._deltaPosition.mag()&&this._deltaPosition.normalizeSelf(),0<this.centerRadiusRatio){var o=void 0,n=this._deltaPosition.mag();o=n<this.centerRadiusRatio?0:(n-this.centerRadiusRatio)/(1-this.centerRadiusRatio),this._deltaPosition.mulSelf(o)}}},t.prototype.mouseOut=function(t){this.currentTouchId==t.getID()&&(this._deltaPosition=n.ZERO,this.currentTouchId=-2)},Object.defineProperty(t.prototype,"deltaPosition",{get:function(){return this._deltaPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return-2!=this.currentTouchId},enumerable:!0,configurable:!0}),t=__decorate([a],t)}(cc.Component));o.default=c,cc._RF.pop()},{}],PlayerBullet:[function(t,e,o){"use strict";cc._RF.push(e,"e0fc6nZzWtA0KvGUusjelLj","PlayerBullet"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc.RigidBody,i=cc.Vec2,r=cc._decorator,a=r.ccclass,c=r.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=900,t}return __extends(t,e),t.prototype.shoot=function(t){this.direction=new i(t.x-this.node.x,t.y-this.node.y).normalizeSelf()},t.prototype.start=function(){this.body=this.getComponent(n),this.body.linearVelocity=this.direction.mul(this.speed)},t.prototype.onCollisionEnter=function(t,e){7==t.tag&&7==e.tag&&this.node.destroy()},__decorate([c],t.prototype,"speed",void 0),t=__decorate([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],PlayerControl:[function(t,e,o){"use strict";cc._RF.push(e,"c6ec4Wt9FFJaJsM+KHZFYT0","PlayerControl"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Scripts/InputManager"),i=t("./PlayerBullet"),r=cc.RigidBody,a=cc.Vec2,c=cc.instantiate,s=cc.Prefab,u=cc.log,p=cc._decorator,d=p.ccclass,h=p.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputManager=null,t.speed=250,t.bulletPrefab=null,t.shotsPerSecond=2,t}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,cc.director.setDisplayStats(!1)},t.prototype.start=function(){this.body=this.getComponent(r),this.targets=[]},t.prototype.update=function(t){this.body.linearVelocity=this.inputManager.deltaPosition.mul(this.speed),null!=this.mainTarget?this.node.rotation=180*Math.atan2(this.mainTarget.y-this.node.y,-(this.mainTarget.x-this.node.x))/Math.PI:this.inputManager.deltaPosition.equals(a.ZERO)||(this.node.rotation=180*Math.atan2(this.inputManager.deltaPosition.y,-this.inputManager.deltaPosition.x)/Math.PI)},t.prototype.shoot=function(){var t=c(this.bulletPrefab).getComponent(i.default);t.node.parent=this.node.parent,t.node.x=this.node.x,t.node.y=this.node.y,t.shoot(this.mainTarget)},t.prototype.updateTarget=function(){u("target upgrade");var t=this.mainTarget;this.mainTarget=this.targets[0],null==this.mainTarget?this.unschedule(this.shoot):this.mainTarget!=t&&(this.unschedule(this.shoot),this.shoot(),this.schedule(this.shoot,1/this.shotsPerSecond,cc.macro.REPEAT_FOREVER))},t.prototype.addTarget=function(t){this.targets.push(t),this.updateTarget()},t.prototype.removeTarget=function(t){var e=this.targets.indexOf(t,0);-1<e&&this.targets.splice(e,1),this.updateTarget()},t.prototype.onCollisionEnter=function(t,e){3==t.tag&&3==e.tag&&this.addTarget(t.node)},t.prototype.onCollisionExit=function(t,e){3==t.tag&&3==e.tag&&this.removeTarget(t.node)},__decorate([h(n.default)],t.prototype,"inputManager",void 0),__decorate([h],t.prototype,"speed",void 0),__decorate([h(s)],t.prototype,"bulletPrefab",void 0),__decorate([h],t.prototype,"shotsPerSecond",void 0),t=__decorate([d],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../Scripts/InputManager":"InputManager","./PlayerBullet":"PlayerBullet"}],Stretch:[function(t,e,o){"use strict";cc._RF.push(e,"2bd124miGhOBZGXqu7FCLGA","Stretch"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=!1,t.height=!1,t}return __extends(t,e),t.prototype.start=function(){cc.view.setResizeCallback(this.resizeContent.bind(this)),this.resizeContent()},t.prototype.resizeContent=function(){this.width&&(this.node.width=cc.director.getVisibleSize().width-this.node.x),this.height&&(this.node.height=cc.director.getVisibleSize().height-this.node.y)},__decorate([r],t.prototype,"width",void 0),__decorate([r],t.prototype,"height",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],TurretControl:[function(t,e,o){"use strict";cc._RF.push(e,"a328foaFhNPybC/F+yTE17X","TurretControl"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameManager"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weaponNode=null,t.health=5,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.update=function(t){null!=this.target&&(this.weaponNode.rotation=180*Math.atan2(this.target.y-this.node.y,-(this.target.x-this.node.x))/Math.PI)},t.prototype.onCollisionEnter=function(t,e){4==t.tag&&4==e.tag?this.target=t.node:7==t.tag&&7==e.tag&&(this.health--,this.health<=0&&(n.default.enemyKilled(this.node),this.node.destroy()))},t.prototype.onCollisionExit=function(t,e){4==t.tag&&4==e.tag&&(this.target=null)},__decorate([a(cc.Node)],t.prototype,"weaponNode",void 0),t=__decorate([r],t)}(cc.Component);o.default=c,cc._RF.pop()},{"./GameManager":"GameManager"}]},{},["AliasReset","GameManager","InputManager","PlayerBullet","PlayerControl","Stretch","TurretControl"]);